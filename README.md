# Copilot Line Tracking

A VS Code extension that tracks lines of code generated by GitHub Copilot per project.

## Features

- Tracks total lines of code in your project
- Tracks lines generated by GitHub Copilot
- Calculates the percentage of code generated by Copilot
- Shows statistics through a simple command
- Displays Copilot usage percentage in the status bar
- Persists statistics between sessions
- Tracks statistics per file
- Maintains a machine-readable JSON file with statistics

## Requirements

- VS Code 1.85.0 or higher
- GitHub Copilot extension installed
- Node.js 16.x or higher
- npm 7.x or higher

## Installation

### From VS Code Marketplace
1. Open VS Code
2. Go to the Extensions view (Ctrl+Shift+X)
3. Search for "Copilot Line Tracking"
4. Click Install

### From Source
1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/copilot-line-tracking.git
   cd copilot-line-tracking
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Build the extension:
   ```bash
   npm run compile
   ```

4. Package the extension:
   ```bash
   npm install -g @vscode/vsce
   vsce package
   ```
   This will create a `.vsix` file in your project directory.

5. Install the extension:
   - Open VS Code
   - Go to the Extensions view (Ctrl+Shift+X)
   - Click on the "..." menu at the top of the Extensions view
   - Select "Install from VSIX..."
   - Choose the `.vsix` file generated in the previous step

### Updating the Extension
To update an existing installation:

1. Uninstall the current version:
   - Go to the Extensions view (Ctrl+Shift+X)
   - Find "Copilot Line Tracking"
   - Click the gear icon and select "Uninstall"
   - Reload VS Code when prompted

2. Install the new version:
   - Follow the installation steps above
   - The new version will completely replace the old one
   - Your statistics will be preserved as they are stored in the workspace

## Development

1. Clone the repository and install dependencies as shown above

2. Open the project in VS Code:
   ```bash
   code .
   ```

3. Press F5 to start debugging
   - This will open a new VS Code window with the extension running
   - You can set breakpoints and debug the extension

4. Make changes to the code
   - The extension will automatically recompile when you save changes
   - Press Ctrl+R in the Extension Development Host window to reload

5. To test changes:
   - Use the Command Palette (Ctrl+Shift+P)
   - Type "Show Copilot Stats" to test the command
   - Check the `.copilot-stats.json` file in your test project

## Extension Settings

This extension contributes the following settings:

* `copilotLineTracking.updateInterval`: Interval in milliseconds for updating the status bar (default: 5000)
* `copilotLineTracking.showStatusBar`: Show the Copilot usage percentage in the status bar (default: true)

## Commands

* `Copilot Line Tracking: Show Stats` - Displays the current statistics for Copilot usage in your project

## Statistics File

The extension maintains a `.copilot-stats.json` file in your repository root with the following structure:

```json
{
  "stats": {
    "totalLines": number,
    "copilotLines": number,
    "lastUpdated": "ISO date string",
    "fileStats": {
      "filePath": {
        "totalLines": number,
        "copilotLines": number
      }
    }
  },
  "repository": "repository name",
  "lastUpdated": "ISO date string"
}
```

The file is automatically updated:
- When changes are made to the code
- Every minute as a backup
- When the extension is activated

## How it Works

The extension tracks:
- Total lines of code in your project
- Lines generated by GitHub Copilot
- Statistics per file
- Updates in real-time as you code

The statistics are persisted between sessions and can be viewed at any time using the command palette or by clicking the status bar item.

## Known Issues

- Currently in development
- Copilot detection might not be 100% accurate in all scenarios

## Release Notes

### 0.0.1

Initial release of Copilot Line Tracking:
- Basic statistics tracking
- Command to display current stats
- Status bar integration
- Persistent storage
- Per-file tracking
- JSON file statistics storage 